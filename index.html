<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —à–∏—Ñ—Ä</title>
    <style>
        :root {
            --primary: #8A2BE2;
            --secondary: #FF4500;
            --accent: #00FF7F;
            --dark: #0F0F1A;
            --light: #E6F0FF;
            --text: #FFFFFF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--dark);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(15, 15, 26, 0.9);
            border: 2px solid var(--primary);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 0 30px rgba(138, 43, 226, 0.4);
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            text-align: center;
            color: var(--accent);
            text-shadow: 0 0 10px rgba(0, 255, 127, 0.5);
        }

        .subtitle {
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.2rem;
            color: var(--light);
        }

        .btn {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 15px 35px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            margin: 25px auto;
            display: block;
            font-weight: bold;
            box-shadow: 0 5px 20px rgba(138, 43, 226, 0.5);
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(255, 69, 0, 0.6);
        }

        .scene {
            display: none;
            animation: fadeIn 0.5s;
        }

        .scene.active {
            display: block;
        }

        .scene-image {
            width: 100%;
            height: 350px;
            object-fit: cover;
            border-radius: 15px;
            margin: 25px 0;
            border: 3px solid var(--accent);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
        }

        .scene-question {
            font-size: 1.5rem;
            margin: 30px 0;
            text-align: center;
            color: var(--accent);
            line-height: 1.5;
        }

        .options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 40px 0;
        }

        .option-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--primary);
            color: var(--light);
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1.1rem;
            text-align: center;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .option-btn:hover {
            background: rgba(138, 43, 226, 0.3);
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.4);
            border-color: var(--accent);
        }

        .option-emoji {
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .progress-container {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin: 40px 0;
            overflow: hidden;
            border: 1px solid var(--primary);
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--primary));
            width: 0%;
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px var(--accent);
        }

        .result {
            display: none;
            text-align: center;
            padding: 30px;
            animation: fadeIn 0.8s;
        }

        .result-title {
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: var(--accent);
            text-shadow: 0 0 15px rgba(0, 255, 127, 0.7);
        }

        .emotion-code {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .emotion-item {
            background: linear-gradient(45deg, rgba(138, 43, 226, 0.3), rgba(255, 69, 0, 0.3));
            padding: 20px 30px;
            border-radius: 50px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 15px;
            border: 2px solid var(--accent);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .emotion-emoji {
            font-size: 2rem;
            filter: drop-shadow(0 0 5px var(--accent));
        }

        .result-desc {
            background: rgba(15, 15, 26, 0.7);
            padding: 25px;
            border-radius: 15px;
            margin: 35px 0;
            line-height: 1.8;
            text-align: left;
            border: 1px solid var(--primary);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        .result-tip {
            font-style: italic;
            margin: 30px 0;
            font-size: 1.2rem;
            color: var(--accent);
            padding: 15px;
            border-left: 4px solid var(--accent);
            background: rgba(0, 255, 127, 0.1);
        }

        .comparison {
            margin: 40px 0;
            background: rgba(255, 69, 0, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid var(--secondary);
            font-size: 1.1rem;
        }

        .share-btn {
            background: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
            padding: 15px 30px;
            border-radius: 50px;
            cursor: pointer;
            margin: 20px;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 1.1rem;
            text-transform: uppercase;
        }

        .share-btn:hover {
            background: rgba(0, 255, 127, 0.2);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 255, 127, 0.3);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @media (max-width: 768px) {
            .options {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .scene-question {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>–≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–´–ô –®–ò–§–†</h1>
        <p class="subtitle">–†–∞—Å—à–∏—Ñ—Ä—É–π—Ç–µ —Å–≤–æ–∏ –≥–ª—É–±–∏–Ω–Ω—ã–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏</p>
        
        <div id="start-screen">
            <p>–≠—Ç–æ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–∞—à —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥ - –Ω–∞–±–æ—Ä —Ä–µ–∞–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–æ–±–ª–∞–¥–∞—é—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.</p>
            <p>–í–∞–º –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤. –í—ã–±–µ—Ä–∏—Ç–µ —ç–º–æ—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –±—ã –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∏ –≤ –∫–∞–∂–¥–æ–º —Å–ª—É—á–∞–µ.</p>
            <button class="btn" id="start-btn">–ù–ê–ß–ê–¢–¨ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï</button>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progress"></div>
        </div>
        
        <div class="scene" id="scene1">
            <img src="images/scene_conflict.jpg" alt="–ö–æ–Ω—Ñ–ª–∏–∫—Ç" class="scene-image">
            <p class="scene-question">–ù–µ–∑–Ω–∞–∫–æ–º–µ—Ü –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –∫—Ä–∏—á–∏—Ç –Ω–∞ –≤–∞—à–µ–≥–æ –¥—Ä—É–≥–∞ –≤ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–Ω–æ–º –≤–∞–≥–æ–Ω–µ –º–µ—Ç—Ä–æ. –ß—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ?</p>
            <div class="options">
                <button class="option-btn" onclick="nextScene('–ì–Ω–µ–≤')">
                    <span class="option-emoji">üò†</span>
                    <span>–ì–Ω–µ–≤</span>
                </button>
                <button class="option-btn" onclick="nextScene('–°—Ç—Ä–∞—Ö')">
                    <span class="option-emoji">üò®</span>
                    <span>–°—Ç—Ä–∞—Ö</span>
                </button>
                <button class="option-btn" onclick="nextScene('–†–∞–≤–Ω–æ–¥—É—à–∏–µ')">
                    <span class="option-emoji">üòê</span>
                    <span>–†–∞–≤–Ω–æ–¥—É—à–∏–µ</span>
                </button>
                <button class="option-btn" onclick="nextScene('–ó–∞–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ')">
                    <span class="option-emoji">üòï</span>
                    <span>–ó–∞–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ</span>
                </button>
            </div>
        </div>
        
        <div class="scene" id="scene2">
            <img src="images/scene_surprise.jpg" alt="–°—é—Ä–ø—Ä–∏–∑" class="scene-image">
            <p class="scene-question">–í—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ—Å—å –¥–æ–º–æ–π –∏ –≤–∏–¥–∏—Ç–µ, —á—Ç–æ –≤—Å—è –≤–∞—à–∞ —Å–µ–º—å—è —É—Å—Ç—Ä–æ–∏–ª–∞ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—É—é –≤–µ—á–µ—Ä–∏–Ω–∫—É –≤ –≤–∞—à—É —á–µ—Å—Ç—å. –í–∞—à–∞ –ø–µ—Ä–≤–∞—è —Ä–µ–∞–∫—Ü–∏—è?</p>
            <div class="options">
                <button class="option-btn" onclick="nextScene('–†–∞–¥–æ—Å—Ç—å')">
                    <span class="option-emoji">üòä</span>
                    <span>–†–∞–¥–æ—Å—Ç—å</span>
                </button>
                <button class="option-btn" onclick="nextScene('–°–º—É—â–µ–Ω–∏–µ')">
                    <span class="option-emoji">üò≥</span>
                    <span>–°–º—É—â–µ–Ω–∏–µ</span>
                </button>
                <button class="option-btn" onclick="nextScene('–¢—Ä–µ–≤–æ–≥–∞')">
                    <span class="option-emoji">üòü</span>
                    <span>–¢—Ä–µ–≤–æ–≥–∞</span>
                </button>
                <button class="option-btn" onclick="nextScene('–†–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ')">
                    <span class="option-emoji">üò§</span>
                    <span>–†–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ</span>
                </button>
            </div>
        </div>
        
        <div class="scene" id="scene3">
            <img src="images/scene_failure.jpg" alt="–ü—Ä–æ–≤–∞–ª" class="scene-image">
            <p class="scene-question">–í—ã –ø—Ä–æ–≤–∞–ª–∏–ª–∏ –≤–∞–∂–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –Ω–∞–¥ –∫–æ—Ç–æ—Ä—ã–º —Ä–∞–±–æ—Ç–∞–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤. –ö–∞–∫–æ–µ —á—É–≤—Å—Ç–≤–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø–µ—Ä–≤—ã–º?</p>
            <div class="options">
                <button class="option-btn" onclick="nextScene('–°—Ç—ã–¥')">
                    <span class="option-emoji">ü•∫</span>
                    <span>–°—Ç—ã–¥</span>
                </button>
                <button class="option-btn" onclick="nextScene('–ì–Ω–µ–≤')">
                    <span class="option-emoji">üò†</span>
                    <span>–ì–Ω–µ–≤</span>
                </button>
                <button class="option-btn" onclick="nextScene('–†–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ')">
                    <span class="option-emoji">üòû</span>
                    <span>–†–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ</span>
                </button>
                <button class="option-btn" onclick="nextScene('–ë–µ–∑—Ä–∞–∑–ª–∏—á–∏–µ')">
                    <span class="option-emoji">ü§∑</span>
                    <span>–ë–µ–∑—Ä–∞–∑–ª–∏—á–∏–µ</span>
                </button>
            </div>
        </div>
        
        <div class="scene" id="scene4">
            <img src="images/scene_danger.jpg" alt="–û–ø–∞—Å–Ω–æ—Å—Ç—å" class="scene-image">
            <p class="scene-question">–í—ã –∏–¥–µ—Ç–µ –ø–æ–∑–¥–Ω–æ –≤–µ—á–µ—Ä–æ–º –ø–æ –Ω–µ–∑–Ω–∞–∫–æ–º–æ–º—É —Ä–∞–π–æ–Ω—É –∏ —Å–ª—ã—à–∏—Ç–µ –∑–∞ —Å–æ–±–æ–π –±—ã—Å—Ç—Ä—ã–µ —à–∞–≥–∏. –ß—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ?</p>
            <div class="options">
                <button class="option-btn" onclick="nextScene('–ü–∞–Ω–∏–∫–∞')">
                    <span class="option-emoji">üò±</span>
                    <span>–ü–∞–Ω–∏–∫–∞</span>
                </button>
                <button class="option-btn" onclick="nextScene('–°–æ–±—Ä–∞–Ω–Ω–æ—Å—Ç—å')">
                    <span class="option-emoji">üß†</span>
                    <span>–°–æ–±—Ä–∞–Ω–Ω–æ—Å—Ç—å</span>
                </button>
                <button class="option-btn" onclick="nextScene('–õ—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ')">
                    <span class="option-emoji">ü§î</span>
                    <span>–õ—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ</span>
                </button>
                <button class="option-btn" onclick="nextScene('–†–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ')">
                    <span class="option-emoji">üò§</span>
                    <span>–†–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ</span>
                </button>
            </div>
        </div>
        
        <div class="scene" id="scene5">
            <img src="images/scene_success.jpg" alt="–£—Å–ø–µ—Ö" class="scene-image">
            <p class="scene-question">–í–∞—à –ø—Ä–æ–µ–∫—Ç –ø–æ–ª—É—á–∞–µ—Ç –≤—ã—Å—à—É—é –Ω–∞–≥—Ä–∞–¥—É –Ω–∞ –ø—Ä–µ—Å—Ç–∏–∂–Ω–æ–º –∫–æ–Ω–∫—É—Ä—Å–µ. –ö–∞–∫–∞—è —ç–º–æ—Ü–∏—è –¥–æ–º–∏–Ω–∏—Ä—É–µ—Ç?</p>
            <div class="options">
                <button class="option-btn" onclick="nextScene('–ì–æ—Ä–¥–æ—Å—Ç—å')">
                    <span class="option-emoji">ü¶Å</span>
                    <span>–ì–æ—Ä–¥–æ—Å—Ç—å</span>
                </button>
                <button class="option-btn" onclick="nextScene('–†–∞–¥–æ—Å—Ç—å')">
                    <span class="option-emoji">üòä</span>
                    <span>–†–∞–¥–æ—Å—Ç—å</span>
                </button>
                <button class="option-btn" onclick="nextScene('–ù–µ–¥–æ—É–º–µ–Ω–∏–µ')">
                    <span class="option-emoji">üò≥</span>
                    <span>–ù–µ–¥–æ—É–º–µ–Ω–∏–µ</span>
                </button>
                <button class="option-btn" onclick="nextScene('–°—Ç—Ä–∞—Ö')">
                    <span class="option-emoji">üò®</span>
                    <span>–°—Ç—Ä–∞—Ö</span>
                </button>
            </div>
        </div>
        
        <div class="result" id="result">
            <h2 class="result-title">–í–ê–® –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–´–ô –ö–û–î</h2>
            
            <div class="emotion-code" id="emotion-code">
                <!-- –¢–æ–ø-3 —ç–º–æ—Ü–∏–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
            
            <div class="result-desc" id="result-desc">
                <!-- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
            </div>
            
            <div class="result-tip">
                <h3>–°–û–í–ï–¢:</h3>
                <p id="advice-text"><!-- –°–æ–≤–µ—Ç –±—É–¥–µ—Ç –∑–¥–µ—Å—å --></p>
            </div>
            
            <div class="comparison" id="comparison">
                <!-- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
            </div>
            
            <button class="btn" onclick="restartTest()">–ü–†–û–ô–¢–ò –¢–ï–°–¢ –°–ù–û–í–ê</button>
            <button class="share-btn">–ü–û–î–ï–õ–ò–¢–¨–°–Ø –†–ï–ó–£–õ–¨–¢–ê–¢–û–ú</button>
        </div>
    </div>

    <script>
        const emotions = [];
        let currentScene = 0;
        const totalScenes = 5;
        
        const emotionData = {
            '–ì–Ω–µ–≤': {
                emoji: 'üò†',
                description: '–í–∞—à–∏ —Ä–µ–∞–∫—Ü–∏–∏ —ç–Ω–µ—Ä–≥–∏—á–Ω—ã –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –∑–∞—â–∏—Ç—É –≥—Ä–∞–Ω–∏—Ü. –í—ã —Å–∫–ª–æ–Ω–Ω—ã –∫ –ø—Ä—è–º—ã–º –¥–µ–π—Å—Ç–≤–∏—è–º, –∫–æ–≥–¥–∞ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç–µ—Å—å —Å –Ω–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å—é.',
                advice: '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫—É "5 —Å–µ–∫—É–Ω–¥": –∫–æ–≥–¥–∞ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –≥–Ω–µ–≤, —Å–¥–µ–ª–∞–π—Ç–µ –≥–ª—É–±–æ–∫–∏–π –≤–¥–æ—Ö –∏ —Å–æ—Å—á–∏—Ç–∞–π—Ç–µ –¥–æ 5.'
            },
            '–°—Ç—Ä–∞—Ö': {
                emoji: 'üò®',
                description: '–í—ã —á—É—Ç–∫–æ —É–ª–∞–≤–ª–∏–≤–∞–µ—Ç–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–≥—Ä–æ–∑—ã. –í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é –∏ –∂–µ–ª–∞–Ω–∏–µ–º –∏–∑–±–µ–∂–∞—Ç—å –æ–ø–∞—Å–Ω–æ—Å—Ç–∏.',
                advice: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ "–∑–∞–∑–µ–º–ª–µ–Ω–∏–µ": –Ω–∞–∑–æ–≤–∏—Ç–µ 5 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –≤–æ–∫—Ä—É–≥ –≤–∞—Å, 4 –∑–≤—É–∫–∞, 3 —Ç–∞–∫—Ç–∏–ª—å–Ω—ã—Ö –æ—â—É—â–µ–Ω–∏—è.'
            },
            '–†–∞–¥–æ—Å—Ç—å': {
                emoji: 'üòä',
                description: '–í—ã –ª–µ–≥–∫–æ –Ω–∞—Ö–æ–¥–∏—Ç–µ –ø–æ–∑–∏—Ç–∏–≤ –≤ –æ–∫—Ä—É–∂–∞—é—â–µ–º –º–∏—Ä–µ. –í–∞—à–∏ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –ø—Ä–∏—è—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è —è—Ä–∫–∏–µ –∏ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ.',
                advice: '–í–µ–¥–∏—Ç–µ "–¥–Ω–µ–≤–Ω–∏–∫ —Ä–∞–¥–æ—Å—Ç–∏": –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ 3 –ø—Ä–∏—è—Ç–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–∞.'
            },
            '–†–∞–≤–Ω–æ–¥—É—à–∏–µ': {
                emoji: 'üòê',
                description: '–í—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –≤–æ –º–Ω–æ–≥–∏—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö. –í–∞—à–∏ —Ä–µ–∞–∫—Ü–∏–∏ —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã.',
                advice: '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–Ω–æ–≥–¥–∞ –≥–ª—É–±–∂–µ –ø–æ–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è.'
            },
            '–ó–∞–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ': {
                emoji: 'üòï',
                description: '–í –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –≤—ã —Å–∫–ª–æ–Ω–Ω—ã –∫ –∞–Ω–∞–ª–∏–∑—É –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –≤—ã—Ä–∞–∑–∏—Ç—å —ç–º–æ—Ü–∏—é.',
                advice: '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å.'
            },
            '–°–º—É—â–µ–Ω–∏–µ': {
                emoji: 'üò≥',
                description: '–í—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —Ç–æ–º—É, –∫–∞–∫ –≤–∞—Å –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç –¥—Ä—É–≥–∏–µ. –í–Ω–∏–º–∞–Ω–∏–µ –∫ –≤–∞–º –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –¥–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç.',
                advice: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –ø—Ä–∏–Ω—è—Ç–∏–µ —Å–µ–±—è.'
            },
            '–¢—Ä–µ–≤–æ–≥–∞': {
                emoji: 'üòü',
                description: '–í—ã —Å–∫–ª–æ–Ω–Ω—ã –ø—Ä–µ–¥–≤–æ—Å—Ö–∏—â–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –∏ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –∏—Å—Ö–æ–¥–∞—Ö.',
                advice: '–¢–µ—Ö–Ω–∏–∫–∞ "–°—Ç–æ–ø-–∫–∞–¥—Ä": –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –Ω–∞–∂–∏–º–∞–µ—Ç–µ –∫–Ω–æ–ø–∫—É –ø–∞—É–∑—ã.'
            },
            '–†–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ': {
                emoji: 'üò§',
                description: '–í–∞—à–∏ —Ä–µ–∞–∫—Ü–∏–∏ —á–∞—Å—Ç–æ –æ—Ç—Ä–∞–∂–∞—é—Ç –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ –∏–ª–∏ –Ω–µ—Å–æ–≥–ª–∞—Å–∏–µ —Å —Ç–µ–º, –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –≤–æ–∫—Ä—É–≥ –≤–∞—Å.',
                advice: '–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ.'
            },
            '–°—Ç—ã–¥': {
                emoji: 'ü•∫',
                description: '–í—ã —Å–∫–ª–æ–Ω–Ω—ã –∫ —Å–∞–º–æ–∞–Ω–∞–ª–∏–∑—É –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—Ü–µ–Ω–∫–µ —Å–≤–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π.',
                advice: '–†–∞–∑–¥–µ–ª—è–π—Ç–µ "—è —Å–æ–≤–µ—Ä—à–∏–ª –æ—à–∏–±–∫—É" –∏ "—è –ø–ª–æ—Ö–æ–π —á–µ–ª–æ–≤–µ–∫".'
            },
            '–†–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ': {
                emoji: 'üòû',
                description: '–í–∞—à–∏ –æ–∂–∏–¥–∞–Ω–∏—è —á–∞—Å—Ç–æ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é.',
                advice: '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ "–ø–µ—Ä–µ–æ—Ü–µ–Ω–∫—É": –∏—â–∏—Ç–µ –≤ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.'
            },
            '–ë–µ–∑—Ä–∞–∑–ª–∏—á–∏–µ': {
                emoji: 'ü§∑',
                description: '–í—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫–æ –º–Ω–æ–≥–∏–º —Å–æ–±—ã—Ç–∏—è–º.',
                advice: '–ü—Ä–æ–±—É–π—Ç–µ –∏–Ω–æ–≥–¥–∞ –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ –∑–æ–Ω—ã –∫–æ–º—Ñ–æ—Ä—Ç–∞.'
            },
            '–ü–∞–Ω–∏–∫–∞': {
                emoji: 'üò±',
                description: '–í —Å—Ç—Ä–µ—Å—Å–æ–≤—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –≤–∞—à–∞ —Ä–µ–∞–∫—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–π.',
                advice: '–î—ã—Ö–∞–Ω–∏–µ "4-7-8": –≤–¥–æ—Ö –Ω–∞ 4 —Å—á–µ—Ç–∞, –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ 7, –≤—ã–¥–æ—Ö –Ω–∞ 8.'
            },
            '–°–æ–±—Ä–∞–Ω–Ω–æ—Å—Ç—å': {
                emoji: 'üß†',
                description: '–í –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –≤—ã –º–æ–±–∏–ª–∏–∑—É–µ—Ç–µ—Å—å –∏ –¥–µ–π—Å—Ç–≤—É–µ—Ç–µ —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ.',
                advice: '–ü–æ—Å–ª–µ —Å—Ç—Ä–µ—Å—Å–æ–≤–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –≤—ã–¥–µ–ª–∏—Ç–µ –≤—Ä–µ–º—è –Ω–∞ –æ—Å–æ–∑–Ω–∞–Ω–∏–µ —ç–º–æ—Ü–∏–π.'
            },
            '–õ—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ': {
                emoji: 'ü§î',
                description: '–í—ã —Å–∫–ª–æ–Ω–Ω—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –¥–∞–∂–µ —Ç—Ä–µ–≤–æ–∂–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏.',
                advice: '–ù–∞–ø—Ä–∞–≤–ª—è–π—Ç–µ —ç—Ç–æ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ —Å–≤–æ–∏—Ö —ç–º–æ—Ü–∏–π.'
            },
            '–ì–æ—Ä–¥–æ—Å—Ç—å': {
                emoji: 'ü¶Å',
                description: '–í—ã —Ü–µ–Ω–∏—Ç–µ —Å–≤–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ.',
                advice: '–†–∞–∑–¥–µ–ª—è–π—Ç–µ –∑–¥–æ—Ä–æ–≤—É—é –≥–æ—Ä–¥–æ—Å—Ç—å –∏ –≥–æ—Ä–¥—ã–Ω—é.'
            },
            '–ù–µ–¥–æ—É–º–µ–Ω–∏–µ': {
                emoji: 'üò≥',
                description: '–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π —É—Å–ø–µ—Ö –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —É –≤–∞—Å —Å–º–µ—à–∞–Ω–Ω—ã–µ —á—É–≤—Å—Ç–≤–∞.',
                advice: '–í–µ–¥–∏—Ç–µ "–¥–Ω–µ–≤–Ω–∏–∫ —É—Å–ø–µ—Ö–æ–≤".'
            }
        };
        
        function startTest() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('scene1').classList.add('active');
            updateProgress();
        }
        
        function nextScene(emotion) {
            emotions.push(emotion);
            document.querySelector('.scene.active').classList.remove('active');
            currentScene++;
            
            if (currentScene < totalScenes) {
                document.getElementById(`scene${currentScene + 1}`).classList.add('active');
                updateProgress();
            } else {
                showResult();
            }
        }
        
        function updateProgress() {
            const progress = ((currentScene + 1) / totalScenes) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }
        
        function showResult() {
            const emotionCount = {};
            emotions.forEach(e => emotionCount[e] = (emotionCount[e] || 0) + 1);
            
            const emotionArray = Object.keys(emotionCount).map(key => ({
                emotion: key,
                count: emotionCount[key],
                percentage: Math.round((emotionCount[key] / totalScenes) * 100)
            }));
            
            emotionArray.sort((a, b) => b.count - a.count);
            
            const topEmotions = emotionArray.slice(0, 3);
            const emotionCodeDiv = document.getElementById('emotion-code');
            emotionCodeDiv.innerHTML = '';
            
            topEmotions.forEach(item => {
                const emotionItem = document.createElement('div');
                emotionItem.className = 'emotion-item';
                emotionItem.innerHTML = `
                    <span class="emotion-emoji">${emotionData[item.emotion].emoji}</span>
                    <span>${item.emotion} (${item.percentage}%)</span>
                `;
                emotionCodeDiv.appendChild(emotionItem);
            });
            
            const dominantEmotion = topEmotions[0].emotion;
            const descDiv = document.getElementById('result-desc');
            descDiv.innerHTML = `
                <h3>–ò–ù–¢–ï–†–ü–†–ï–¢–ê–¶–ò–Ø –í–ê–®–ï–ì–û –ö–û–î–ê:</h3>
                <p>${emotionData[dominantEmotion].description}</p>
                ${topEmotions.length > 1 ? 
                 `<p>–¢–∞–∫–∂–µ –≤ –≤–∞—à–µ–º –∫–æ–¥–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç: <strong>${topEmotions.slice(1).map(e => e.emotion).join('</strong>, <strong>')}</strong>.</p>` 
                 : ''}
            `;
            
            document.getElementById('advice-text').textContent = emotionData[dominantEmotion].advice;
            
            const comparisons = [
                `45% —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö —Ç–∞–∫–∂–µ –∏—Å–ø—ã—Ç—ã–≤–∞–ª–∏ "${dominantEmotion.toLowerCase()}"`,
                `–í–∞—à–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —ç–º–æ—Ü–∏–π –≤—Ö–æ–¥–∏—Ç –≤ —Ç–æ–ø-10 —Å–∞–º—ã—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö`,
                `–≠–º–æ—Ü–∏—è "${dominantEmotion}" –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —É 30% –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π`
            ];
            document.getElementById('comparison').innerHTML = 
                `<p>${comparisons[Math.floor(Math.random() * comparisons.length)]}</p>`;
            
            document.getElementById('result').style.display = 'block';
            
            const items = document.querySelectorAll('.emotion-item, .result-desc, .result-tip, .comparison');
            items.forEach((item, index) => {
                setTimeout(() => {
                    item.style.opacity = '1';
                    item.style.transform = 'translateY(0)';
                }, index * 200);
                item.style.opacity = '0';
                item.style.transform = 'translateY(20px)';
                item.style.transition = 'all 0.5s ease';
            });
        }
        
        function restartTest() {
            emotions.length = 0;
            currentScene = 0;
            document.querySelector('.scene.active')?.classList.remove('active');
            document.getElementById('result').style.display = 'none';
            document.getElementById('start-screen').style.display = 'block';
            document.getElementById('progress').style.width = '0%';
        }
        
        document.getElementById('start-btn').addEventListener('click', startTest);
        
        document.querySelector('.share-btn').addEventListener('click', () => {
            alert('–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç, —á—Ç–æ–±—ã –ø–æ–¥–µ–ª–∏—Ç—å—Å—è!');
        });
    </script>
</body>
</html>